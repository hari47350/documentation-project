"use strict";(self.webpackChunkproject_docs=self.webpackChunkproject_docs||[]).push([[8401],{8692:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(6540),o=n(6598),a=n(2007),i=n(467),s=n(4848);function l(e){var t=e.module,n=e.team,o=e.week,l=(0,r.useState)(""),u=l[0],d=l[1],c=(0,r.useState)(!1),f=c[0],m=c[1];function p(){return(p=(0,i.A)((0,a.A)().m(function e(){var r,i,s,l,u;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm("Are you sure? This will remove the current document (it will be backed up).")){e.n=1;break}return e.a(2);case 1:return m(!0),d("Deleting..."),e.p=2,(r=new FormData).append("module",t),r.append("team",n),r.append("week",o),e.n=3,fetch("http://localhost:9000/delete/",{method:"POST",body:r});case 3:if((i=e.v).ok){e.n=5;break}return e.n=4,i.text();case 4:return s=e.v,d("Delete failed: "+(s||i.statusText)),m(!1),e.a(2);case 5:return e.n=6,i.json();case 6:(l=e.v).ok?(d("Deleted. Refreshing..."),setTimeout(function(){return window.location.reload()},900)):(d("Delete failed: "+JSON.stringify(l)),m(!1)),e.n=8;break;case 7:e.p=7,u=e.v,d("Error: "+String(u)),m(!1);case 8:return e.a(2)}},e,null,[[2,7]])}))).apply(this,arguments)}return(0,s.jsxs)("div",{style:{margin:"0.5rem 0 1rem 0"},children:[(0,s.jsx)("button",{onClick:function(){return p.apply(this,arguments)},disabled:f,style:{background:"#ff4d4f",color:"white",padding:"8px 12px",borderRadius:8,border:"none",cursor:f?"not-allowed":"pointer",fontWeight:700,marginRight:12},title:"Delete uploaded doc for this week (backup saved)",children:"\ud83d\uddd1\ufe0f Delete this document"}),u&&(0,s.jsx)("span",{style:{fontSize:13,color:"#444",marginLeft:6},children:u})]})}function u(e){return(0,s.jsxs)("div",{children:[showControls?(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsx)("a",{href:"/upload?module="+info.module+"&team="+info.team+"&week="+info.week,className:"button button--secondary",style:{marginRight:12},children:"\ud83d\udce4 Upload Doc"}),(0,s.jsx)(l,{module:info.module,team:info.team,week:info.week})]}):null,(0,s.jsx)(o.A,Object.assign({},e))]})}}}]);