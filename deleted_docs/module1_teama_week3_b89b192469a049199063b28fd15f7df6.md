---
id: week3
title: Week 03 — Team-A
sidebar_label: Week 03
---

# <a id="X4afa7c4bf64836feeac50cd118e994e6dcb14b7"></a>MongoDB Setup and Verification for smartidh3

## <a id="environment"></a>1\. Environment

Component  Version/Details  OS  Windows 10/11  MongoDB  8\.0\.13  Mongosh  2\.5\.8  Virtual Env  \.venv  __Start mongosh with authentication__  From PowerShell:  & "C:\\Users\\admin\\Downloads\\mongosh\-2\.5\.8\-win32\-x64\\mongosh\-2\.5\.8\-win32\-x64\\bin\\mongosh\.exe" \-u admin \-p StrongPassword123\! \-\-authenticationDatabase admin  - \-u admin → your username - \-p StrongPassword123\! → your password - \-\-authenticationDatabase admin → the database where the user was created

## <a id="authentication-setup"></a>2\. Authentication Setup

__Create admin user:__  use admin

```text title="990154187bc74663a7694eb5c5b96b01"
db\.createUser\(\{
```

user: "admin", pwd: "StrongPassword123\!",

```text title="990154187bc74663a7694eb5c5b96b01"
  roles: \[ \{ role: "root", db: "admin" \} \]
\}\)
```

__Enable authentication__ in mongod\.cfg:  systemLog: destination: file path: C:/Users/admin/smartidh3/log/mongod\.log logAppend: true  storage: dbPath: C:/Users/admin/smartidh3/data/db  net: bindIp: 127\.0\.0\.1 port: 27017  security: authorization: enabled  __Start MongoDB with config:__  & C:/Users/admin/smartidh3/\.venv/Scripts/Activate\.ps1  & "C:\\Program Files\\MongoDB\\Server\\8\.0\\bin\\mongod\.exe" \-\-config "C:/Users/admin/smartidh3/mongod\.cfg"

## <a id="database-and-collections"></a>3\. Database and Collections

Switch to app database and create collections:  use smartidh3 db\.createCollection\("users"\) db\.createCollection\("raw\_documents"\) db\.createCollection\("parsed\_segments"\)  __Create indexes:__

```text title="990154187bc74663a7694eb5c5b96b01"
db\.users\.createIndex\(\{ tenantId: 1, email: 1 \}, \{ unique: true \}\)
db\.raw\_documents\.createIndex\(\{ tenantId: 1 \}\)
db\.parsed\_segments\.createIndex\(\{ documentId: 1, sequence: 1 \}\)
```

## <a id="crud-verification"></a>4\. CRUD Verification

// Insert a user

```text title="990154187bc74663a7694eb5c5b96b01"
db\.users\.insertOne\(\{ tenantId: 1, email: "user2@example\.com", name: "Bob" \}\)
```

// Insert raw document

```text title="990154187bc74663a7694eb5c5b96b01"
const rawDoc = db\.raw\_documents\.insertOne\(\{ tenantId: 1, title: "Doc1", content: "Sample text" \}\)
const docId = rawDoc\.insertedId
```

// Insert parsed segment referencing raw document

```text title="990154187bc74663a7694eb5c5b96b01"
db\.parsed\_segments\.insertOne\(\{ documentId: docId, sequence: 1, text: "Segment 1" \}\)
```

✅ All inserts return acknowledged: true with ObjectIds\.

## <a id="authentication-verification"></a>5\. Authentication Verification

```text title="990154187bc74663a7694eb5c5b96b01"
db\.runCommand\(\{ connectionStatus: 1 \}\)
```

__Output:__

```text title="990154187bc74663a7694eb5c5b96b01"
\{
  "authInfo": \{
    "authenticatedUsers": \[ \{ "user": "admin", "db": "admin" \} \],
    "authenticatedUserRoles": \[ \{ "role": "root", "db": "admin" \} \]
  \},
```

"ok": 1

```text title="990154187bc74663a7694eb5c5b96b01"
\}
```

This proves authentication is enabled and the admin user has full privileges\.

## <a id="notes"></a>6\. Notes

- Authentication is enabled and verified\.  - Unique indexes prevent duplicate user emails per tenant\.  - Relationships between raw\_documents and parsed\_segments are correctly set via ObjectId references\.  - MongoDB setup, collections, indexes, and CRUD are fully verified\.

### <a id="deliverables"></a>✅ Deliverables

- MongoDB config \(mongod\.cfg\)  - Verified collections with indexes  - CRUD operations tested successfully  - Authentication verified